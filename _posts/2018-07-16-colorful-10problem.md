---
layout: post
title:  "10个精彩的智力问题"
categories: 算法
tags:  算法
---

* content
{:toc}

```
来源：Matrix67  
链接：http://www.matrix67.com/blog/archives/2671
```

/虽然有些是很老了，但不掉牙就好了/  




## 01

给一个瞎子52张扑克牌，并告诉他里面恰好有10张牌是正面朝上的。

要求这个瞎子把牌分成两堆，使得每堆牌里正面朝上的牌的张数一样多。

瞎子应该怎么做？

```
答案：
把扑克牌分成两堆，一堆10张，一堆42张。然后，把小的那一堆里的所有牌全部翻过来。
```

## 02

如何用一枚硬币等概率地产生一个1到3之间的随机整数？

如果这枚硬币是不公正的呢？

```
答案：
如果是公正的硬币，则投掷两次，“正反”为1，“反正”为2，“正正”为3，“反反”重来。

如果是不公正的硬币，注意到出现“正反”和“反正”的概率一样，因此令“正反反正”、“反正正反”、“正反正反”分别为1、2、3，其余情况重来。

另一种更妙的办法是，投掷三次硬币，“正反反”为1，“反正反”为2，“反反正”为3，其余情况重来。
```

## 03

30枚面值不全相同的硬币摆成一排，甲、乙两个人轮流选择这排硬币的其中一端，并取走最外边的那枚硬币。

如果你先取硬币，能保证得到的钱不会比对手少吗？

```
答案：
先取者可以让自己总是取奇数位置上的硬币或者总是取偶数位置上的硬币。

数一数是奇数位置上的面值总和多还是偶数位置上的面值总和多，然后总是取这些位置上的硬币就可以了。
```

## 04

一个环形轨道上有n个加油站，所有加油站的油量总和正好够车跑一圈。

证明，总能找到其中一个加油站，使得初始时油箱为空的汽车从这里出发，能够顺利环行一圈回到起点。

```
答案：
总存在一个加油站，仅用它的油就足够跑到下一个加油站（否则所有加油站的油量加起来将不够全程）。

把下一个加油站的所有油都提前搬到这个加油站来，并把油已被搬走的加油站无视掉。

在剩下的加油站中继续寻找油量足以到达下个加油站的地方，不断合并加油站，直到只剩一个加油站为止。

显然从这里出发就能顺利跑完全程。

另一种证明方法：

先让汽车油箱里装好足够多的油，随便从哪个加油站出发试跑一圈。

车每到一个加油站时，记录此时油箱里剩下的油量，然后把那个加油站的油全部装上。

试跑完一圈后，检查刚才路上到哪个加油站时剩的油量最少，那么空着油箱从那里出发显然一定能跑完全程。
```

## 05

初始时，两个口袋里各有一个球。把后面的n-2个球依次放入口袋，放进哪个口袋其概率与各口袋已有的球数成正比。

这样下来，球数较少的那个口袋平均期望有多少个球？

```
答案：
先考虑一个看似无关的问题——怎样产生一个1到n的随机排列。

首先，在纸上写下数字1；然后，把2写在1的左边或者右边；然后，把3写在最左边，最右边，或者插进1和2之间……

总之，把数字i等概率地放进由前面i-1个数产生的（包括最左端和最右端在内的）共i个空位中的一个。

这样生成的显然是一个完全随机的排列。

我们换一个角度来看题目描述的过程：

假想用一根绳子把两个球拴在一起，把这根绳子标号为1。接下来，把其中一个小球分裂成两个小球，这两个小球用标号为2的绳子相连。

总之，把“放进第i个球”的操作想象成把其中一个球分裂成两个用标有i-1的绳子相连的小球。

联想我们前面的讨论，这些绳子的标号事实上是一个随机的全排列，也就是说最开始绳子1的位置最后等可能地出现在每个地方。

也就是说，它两边的小球个数(1,n-1)、(2,n-2)、(3,n-3)、……、(n-1,1)这n-1种情况等可能地发生。

因此，小袋子里的球数大约为n/4个。

准确地说，当n为奇数时，小袋子里的球数为(n+1)/4；当n为偶数时，小袋子里的球数为n^2/(4n-4)。
```

## 06

考虑一个n\*n的棋盘，把有公共边的两个格子叫做相邻的格子。

初始时，有些格子里有病毒。每一秒钟后，只要一个格子至少有两个相邻格子染上了病毒，那么他自己也会被感染。

为了让所有的格子都被感染，初始时最少需要有几个带病毒的格子？给出一种方案并证明最优性。

```
答案：
至少要n个，比如一条对角线上的n个格子。n个格子也是必需的。

当一个新的格子被感染后，全体被感染的格子所组成的图形的周长将减少0个、2个或4个单位（具体减少了多少要看它周围被感染的格子有多少个）。

又因为当所有格子都被感染后，图形的周长为4n，因此初始时至少要有n个被感染的格子。
```

## 07

在一个m\*n的棋盘上，有k个格子里放有棋子。

是否总能对所有棋子进行红蓝二染色，使得每行每列的红色棋子和蓝色棋子最多差一个？

```
答案：可以。

建一个二分图G(X,Y)，其中X有m个顶点代表了棋盘的m个行，Y有n个顶点代表了棋盘的n个列。第i行第j列有棋子就在X(i)和Y(j)之间连一条边。

先找出图G里的所有环（由于是二分图，环的长度一定是偶数），把环里的边红蓝交替染色。剩下的没染色的图一定是一些树。

对每棵树递归地进行操作：去掉一个叶子节点和对应边，把剩下的树进行合法的红蓝二染色，再把刚才去掉的顶点和边加回去，给这个边适当的颜色以满足要求。
```

## 08

任意给一个8\*8的01矩阵，你每次只能选一个3\*3或者4\*4的子矩阵并把里面的元素全部取反。

是否总有办法把矩阵里的所有数全部变为1？

```
答案：不能。

大矩阵中有36个3*3的小矩阵和25个4*4的小矩阵，因此总共有61种可能的操作。

显然，给定一个操作序列，这些操作的先后顺序是无关紧要的；另外，在一个操作序列中使用两种或两种以上相同的操作也是无用的。

因此，实质不同的操作序列只有2^61种。

但8*8的01矩阵一共有2^64种，因此不是每种情况都有办法达到目的。
```

## 09

五个洞排成一排，其中一个洞里藏有一只狐狸。

每个夜晚，狐狸都会跳到一个相邻的洞里；每个白天，你都只允许检查其中一个洞。

怎样才能保证狐狸最终会被抓住？

```
答案：按照2, 3, 4, 2, 3, 4的顺序检查狐狸洞可以保证抓住狐狸。

为了说明这个方案是可行的，用集合F表示狐狸可能出现的位置，初始时F = {1, 2, 3, 4, 5}。

如果它不在2号洞，则第二天狐狸已经跑到了F = {2, 3, 4, 5}。
如果此时它不在3号洞，则第三天狐狸一定跑到了F = {1, 3, 4, 5}。
如果此时它不在4号洞，则再过一晚后F = {2, 4}。
如果此时它不在2号洞，则再过一天F = {3, 5}。
如果此时它不在3号洞，再过一天它就一定跑到4号洞了。

方案不是唯一的，下面这些方案都是可行的：

2, 3, 4, 4, 3, 2
4, 3, 2, 2, 3, 4
4, 3, 2, 4, 3, 2
```

## 10

一个经典老题是说，把一个3\*3\*3的立方体切成27个单位立方体，若每一刀切完后都允许重新摆放各个小块的位置，最少可以用几刀？

答案仍然是6刀，因为正中间那个单位立方体的6个面都是后来才切出来的，因此怎么也需要6刀。

考虑这个问题：若把一个n\*n\*n的立方体切成一个个单位立方体，最少需要几刀？

```
答案：
事实上，从一个更强的命题出发反而能使问题变得更简单。

对于一个a*b*c的长方体，我们需要f(a)+f(b)+f(c)刀，其中f(x)=⌈log(x)/log(2)⌉。

只需要注意到，在整个过程中的任何一步，切完当前最大的块所需要的刀数也就等于整个过程还需要的刀数，因为其它小块需要的刀数都不会超过最大块所需刀数，它们都可以与最大块一道并行处理。

这表明，我们的最优决策即是让当前的最大块尽可能的小，也就是说要把当前的最大块尽可能相等地切成两半。

利用数学归纳法，我们可以很快得到本段开头的结论。
```
